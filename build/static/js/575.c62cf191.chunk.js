"use strict";(self.webpackChunkagnoworksphere=self.webpackChunkagnoworksphere||[]).push([[575],{575:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(43),n=s(266),i=s(16),r=s(378),l=s(985),o=s(579);const c=e=>{let{meetingTypes:t,onSelect:s,onQuickSchedule:a,onInstantMeeting:i}=e;return(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.map(e=>(0,o.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:`w-8 h-8 ${e.color} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,o.jsx)(l.A,{name:e.icon,size:16,className:"text-white"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,o.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-500",children:[(0,o.jsx)(l.A,{name:"Clock",size:12}),(0,o.jsxs)("span",{children:[e.defaultDuration," min"]})]})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:()=>a(e.id),iconName:"Calendar",className:"flex-1 text-xs",children:"Schedule"}),"standup"===e.id&&(0,o.jsx)(n.A,{size:"sm",onClick:()=>i(e.id),iconName:"Video",className:"bg-green-600 hover:bg-green-700 text-white text-xs",children:"Start Now"})]})]},e.id))})},d=e=>{let{organizationMembers:t,selectedAttendees:s,onAttendeesChange:r}=e;const[l,c]=(0,a.useState)(""),d=t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.role.toLowerCase().includes(l.toLowerCase())),m=e=>{switch(e.toLowerCase()){case"owner":return"text-purple-600 bg-purple-50";case"admin":return"text-blue-600 bg-blue-50";case"developer":return"text-green-600 bg-green-50";case"designer":return"text-pink-600 bg-pink-50";case"pm":case"project manager":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Meeting Attendees"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>{r(t.map(e=>e.id))},className:"text-xs text-blue-600",children:"Select All"}),(0,o.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>{r([])},className:"text-xs text-gray-600",children:"Clear"})]})]}),(0,o.jsx)(i.A,{type:"text",placeholder:"Search team members...",value:l,onChange:e=>c(e.target.value),iconName:"Search",size:"sm"}),s.length>0&&(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[s.length," attendee",1!==s.length?"s":""," selected"]}),(0,o.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-2",children:0===d.length?(0,o.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:l?"No members found":"No team members available"}):d.map(e=>{const t=s.includes(e.id);return(0,o.jsx)("div",{className:`\n                  p-3 border rounded-lg cursor-pointer transition-colors\n                  ${t?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:bg-gray-50"}\n                `,onClick:()=>(e=>{const t=s.includes(e)?s.filter(t=>t!==e):[...s,e];r(t)})(e.id),children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white text-sm font-medium",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,o.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${m(e.role)}`,children:e.role})]}),e.email&&(0,o.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.email})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full "+(e.isOnline?"bg-green-500":"bg-gray-400")}),(0,o.jsx)("span",{className:"text-xs text-gray-500",children:e.isOnline?"Online":"Offline"})]})]})},e.id)})}),(0,o.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,o.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Quick select:"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:()=>{const e=t.filter(e=>e.role.toLowerCase().includes("developer")).map(e=>e.id);r([...new Set([...s,...e])])},className:"text-xs",children:"+ All Developers"}),(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:()=>{const e=t.filter(e=>e.role.toLowerCase().includes("manager")||e.role.toLowerCase().includes("pm")).map(e=>e.id);r([...new Set([...s,...e])])},className:"text-xs",children:"+ All Managers"}),(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:()=>{const e=t.filter(e=>e.role.toLowerCase().includes("designer")).map(e=>e.id);r([...new Set([...s,...e])])},className:"text-xs",children:"+ All Designers"})]})]})]})},m=e=>{let{projectData:t}=e;const[s,i]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)("idle"),g=[{id:"google",name:"Google Calendar",icon:"Calendar",color:"bg-red-500",description:"Sync with Google Calendar and Gmail"},{id:"outlook",name:"Microsoft Outlook",icon:"Mail",color:"bg-blue-500",description:"Sync with Outlook and Office 365"},{id:"apple",name:"Apple Calendar",icon:"Smartphone",color:"bg-gray-800",description:"Sync with iCloud Calendar"}];(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{i([{id:"google-cal-1",provider:"google",email:"john@example.com",isActive:!0,lastSync:"2024-01-15T10:30:00Z"}])}catch(e){console.error("Failed to load calendars:",e)}},u=async e=>`${{google:"https://accounts.google.com/oauth2/auth",outlook:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",apple:"https://appleid.apple.com/auth/authorize"}[e]}?client_id=your_client_id&redirect_uri=your_redirect_uri&scope=calendar`,h=async e=>{console.log("Disconnecting calendar:",e)},p=async()=>{console.log("Syncing all calendars")},b=e=>{const t=new Date(e),s=new Date-t,a=Math.floor(s/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:t.toLocaleDateString()};return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Calendar Integration"}),s.length>0&&(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:async()=>{m("syncing");try{await p(),m("success"),setTimeout(()=>m("idle"),3e3)}catch(e){console.error("Failed to sync calendars:",e),m("error"),setTimeout(()=>m("idle"),3e3)}},disabled:"syncing"===d,iconName:"syncing"===d?"Loader2":"RefreshCw",className:"text-xs "+("syncing"===d?"animate-spin":""),children:"syncing"===d?"Syncing...":"Sync Now"})]}),"idle"!==d&&(0,o.jsxs)("div",{className:"p-2 rounded text-xs "+("success"===d?"bg-green-50 text-green-700 border border-green-200":"error"===d?"bg-red-50 text-red-700 border border-red-200":"bg-blue-50 text-blue-700 border border-blue-200"),children:["success"===d&&"\u2713 Calendars synced successfully","error"===d&&"\u2717 Failed to sync calendars","syncing"===d&&"\u27f3 Syncing calendars..."]}),s.length>0&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("h5",{className:"text-xs font-medium text-gray-600",children:"Connected Calendars"}),s.map(e=>{const t=(s=e.provider,g.find(e=>e.id===s));var s;return(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:`w-6 h-6 ${t.color} rounded flex items-center justify-center`,children:(0,o.jsx)(l.A,{name:t.icon,size:12,className:"text-white"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,o.jsx)("div",{className:"text-xs text-gray-600",children:e.email}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["Last sync: ",b(e.lastSync)]})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full "+(e.isActive?"bg-green-500":"bg-gray-400")}),(0,o.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>(async e=>{try{await h(e),i(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Failed to disconnect calendar:",t)}})(e.id),iconName:"X",className:"text-red-600 hover:text-red-800"})]})]},e.id)})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("h5",{className:"text-xs font-medium text-gray-600",children:s.length>0?"Connect Additional Calendars":"Connect Your Calendar"}),g.filter(e=>!s.some(t=>t.provider===e.id)).map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:`w-6 h-6 ${e.color} rounded flex items-center justify-center`,children:(0,o.jsx)(l.A,{name:e.icon,size:12,className:"text-white"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,o.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]})]}),(0,o.jsx)(n.A,{size:"sm",variant:"outline",onClick:()=>(async e=>{c(!0);try{const t=await u(e),s=window.open(t,"calendar-auth","width=500,height=600,scrollbars=yes,resizable=yes"),a=setInterval(()=>{s.closed&&(clearInterval(a),c(!1),x())},1e3)}catch(t){console.error("Failed to connect calendar:",t),c(!1)}})(e.id),disabled:r,iconName:"Plus",className:"text-xs",children:"Connect"})]},e.id))]}),(0,o.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,o.jsxs)("h6",{className:"text-xs font-medium text-blue-800 mb-2 flex items-center gap-1",children:[(0,o.jsx)(l.A,{name:"Info",size:12}),"Calendar Integration Benefits"]}),(0,o.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,o.jsx)("li",{children:"\u2022 Automatic meeting invites with calendar events"}),(0,o.jsx)("li",{children:"\u2022 Conflict detection and alternative time suggestions"}),(0,o.jsx)("li",{children:"\u2022 Bi-directional sync with your existing calendar"}),(0,o.jsx)("li",{children:"\u2022 Reminder notifications before meetings"})]})]})]})},g=e=>{let{projectData:t,tasks:s,organizationMembers:g}=e;const[x,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[b,j]=(0,a.useState)(null),[f,y]=(0,a.useState)({type:"kickoff",title:"",description:"",duration:60,attendees:[],date:"",time:"",agenda:[],recurring:!1,recurringPattern:"weekly"}),v=[{id:"kickoff",name:"Project Kickoff",icon:"Rocket",color:"bg-green-500",defaultDuration:90,description:"Initial project planning and team alignment",suggestedAgenda:["Project overview and objectives","Team introductions and roles","Timeline and milestones review","Communication protocols","Next steps and action items"]},{id:"standup",name:"Daily Standup",icon:"Users",color:"bg-blue-500",defaultDuration:15,description:"Quick daily sync on progress and blockers",suggestedAgenda:["What did you accomplish yesterday?","What will you work on today?","Any blockers or impediments?"]},{id:"sprint-review",name:"Sprint Review",icon:"Eye",color:"bg-purple-500",defaultDuration:60,description:"Review completed work and gather feedback",suggestedAgenda:["Demo completed features","Review sprint goals achievement","Stakeholder feedback","Retrospective discussion"]},{id:"planning",name:"Sprint Planning",icon:"Calendar",color:"bg-orange-500",defaultDuration:120,description:"Plan upcoming sprint tasks and commitments",suggestedAgenda:["Review product backlog","Estimate task complexity","Assign tasks to team members","Define sprint goals"]},{id:"retrospective",name:"Retrospective",icon:"RotateCcw",color:"bg-indigo-500",defaultDuration:60,description:"Reflect on process and identify improvements",suggestedAgenda:["What went well?","What could be improved?","Action items for next sprint","Process adjustments"]},{id:"custom",name:"Custom Meeting",icon:"Settings",color:"bg-gray-500",defaultDuration:60,description:"Custom meeting for specific project needs",suggestedAgenda:[]}];(0,a.useEffect)(()=>{N()},[t.id]);const N=async()=>{try{const e=[{id:"meeting-1",type:"kickoff",title:"Project Kickoff Meeting",date:"2024-01-15",time:"10:00",duration:90,attendees:["john-doe","jane-smith"],status:"scheduled",meetingUrl:await S({type:"kickoff"})}];p(e)}catch(e){console.error("Failed to load meetings:",e)}},w=async e=>{const s=v.find(t=>t.id===e),a=new Date,n=a.toISOString().split("T")[0],i=`${String(a.getHours()+1).padStart(2,"0")}:00`,r={type:e,title:`${t.name} - ${s.name}`,description:s.description,duration:s.defaultDuration,attendees:g.map(e=>e.id),date:n,time:i,agenda:s.suggestedAgenda.map(e=>({text:e,completed:!1}))};try{const e=await k(r);p(t=>[...t,e]),await D(e)}catch(l){console.error("Failed to schedule meeting:",l)}},C=async e=>{try{const t=v.find(t=>t.id===e),s={type:"instant",title:`Instant ${t.name}`,duration:t.defaultDuration,attendees:g.map(e=>e.id),startTime:(new Date).toISOString()},a=await A(s);await $(a,s),window.open(a,"_blank")}catch(t){console.error("Failed to start instant meeting:",t)}},k=async e=>{const t={id:`meeting-${Date.now()}`,...e,status:"scheduled",meetingUrl:await S(e),createdAt:(new Date).toISOString()};return await T(t),t},S=async e=>{const s=`${Date.now()}-${Math.random().toString(36).substring(2,8)}`;return`https://meet.google.com/${`${t.name.replace(/\s+/g,"-").toLowerCase()}-${e.type}`}-${s}`},A=async e=>await S(e),D=async e=>{const t=e.attendees.map(t=>({type:"meeting_scheduled",recipient:t,meeting:e,calendarInvite:z(e)}));await Promise.all(t.map(M))},$=async(e,t)=>{const s=t.attendees.map(s=>({type:"instant_meeting",recipient:s,meetingUrl:e,meeting:t}));await Promise.all(s.map(I))},z=e=>{const t=new Date(`${e.date}T${e.time}`),s=new Date(t.getTime()+6e4*e.duration);return{title:e.title,start:t.toISOString(),end:s.toISOString(),description:e.description,location:e.meetingUrl,attendees:e.attendees}},M=async e=>{console.log("Sending notification:",e)},I=async e=>{console.log("Sending instant notification:",e)},T=async e=>{console.log("Saving meeting to database:",e)},L=(()=>{const e=new Date;return h.filter(t=>new Date(`${t.date}T${t.time}`)>e).sort((e,t)=>new Date(`${e.date}T${e.time}`)-new Date(`${t.date}T${t.time}`))})();return(0,o.jsxs)("div",{className:"bg-gradient-to-br from-white to-blue-50/30 border border-gray-200 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-5 cursor-pointer hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 rounded-t-2xl transition-all duration-200",onClick:()=>u(!x),children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 via-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-200",children:(0,o.jsx)(l.A,{name:"Calendar",size:20,className:"text-white"})}),L.length>0&&(0,o.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white",children:(0,o.jsx)("span",{className:"text-xs font-bold text-white",children:L.length})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Meeting Scheduler"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,o.jsx)(l.A,{name:"Users",size:12}),L.length," upcoming meeting",1!==L.length?"s":""]})]})]}),(0,o.jsx)("div",{className:"p-2 rounded-xl transition-all duration-200 "+(x?"bg-blue-100 text-blue-600":"text-gray-400 hover:bg-gray-100"),children:(0,o.jsx)(l.A,{name:x?"ChevronUp":"ChevronDown",size:20,className:"transition-transform duration-200"})})]}),x&&(0,o.jsxs)("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Actions"}),(0,o.jsx)(n.A,{onClick:()=>C("standup"),className:"w-full justify-start bg-green-600 hover:bg-green-700 text-white",iconName:"Video",children:"Start Instant Meeting"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,o.jsx)(n.A,{variant:"outline",onClick:()=>w("kickoff"),iconName:"Rocket",className:"text-sm",children:"Schedule Kickoff"}),(0,o.jsx)(n.A,{variant:"outline",onClick:()=>w("planning"),iconName:"Calendar",className:"text-sm",children:"Planning Meeting"})]})]}),L.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Upcoming Meetings"}),(0,o.jsx)("div",{className:"space-y-2",children:L.slice(0,3).map(e=>(0,o.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{className:"font-medium text-blue-900",children:e.title}),(0,o.jsxs)("p",{className:"text-sm text-blue-700",children:[e.date," at ",e.time," (",e.duration,"min)"]})]}),(0,o.jsx)(n.A,{size:"sm",onClick:()=>window.open(e.meetingUrl,"_blank"),iconName:"ExternalLink",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Join"})]})},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Schedule New Meeting"}),(0,o.jsx)(c,{meetingTypes:v,onSelect:e=>{const t=v.find(t=>t.id===e);y(s=>({...s,type:e,title:t.name,duration:t.defaultDuration,agenda:t.suggestedAgenda.map(e=>({text:e,completed:!1}))}))},onQuickSchedule:w,onInstantMeeting:C})]}),b&&(0,o.jsxs)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Meeting Details"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsx)(i.A,{label:"Meeting Title",value:f.title,onChange:e=>y(t=>({...t,title:e.target.value})),placeholder:"Enter meeting title..."}),(0,o.jsx)(r.A,{label:"Duration",value:f.duration,onChange:e=>y(t=>({...t,duration:e})),options:[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:180,label:"3 hours"}]}),(0,o.jsx)(i.A,{label:"Date",type:"date",value:f.date,onChange:e=>y(t=>({...t,date:e.target.value}))}),(0,o.jsx)(i.A,{label:"Time",type:"time",value:f.time,onChange:e=>y(t=>({...t,time:e.target.value}))})]}),(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)(d,{organizationMembers:g,selectedAttendees:f.attendees,onAttendeesChange:e=>y(t=>({...t,attendees:e}))})}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,o.jsx)(n.A,{variant:"outline",onClick:()=>j(null),children:"Cancel"}),(0,o.jsx)(n.A,{onClick:()=>w(f.type),iconName:"Calendar",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Schedule Meeting"})]})]}),(0,o.jsx)(m,{projectData:t})]})]})}}}]);
//# sourceMappingURL=575.c62cf191.chunk.js.map