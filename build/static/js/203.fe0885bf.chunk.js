"use strict";(self.webpackChunkagnoworksphere=self.webpackChunkagnoworksphere||[]).push([[203],{203:(o,a,e)=>{e.r(a),e.d(a,{default:()=>d});var t=e(84);const n="http://localhost:8000",r=function(){var o;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=null===(o=t.default.getSessionToken)||void 0===o?void 0:o.call(t.default);return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{},...a}},s=async function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(o,{...a,credentials:"include",headers:{...r(),...a.headers}})},i=async o=>{const a=await o.text();let e;try{e=a?JSON.parse(a):{}}catch{e={message:a}}if(!o.ok){var t,n,r,s;if(422===o.status&&null!==(t=e)&&void 0!==t&&t.detail){const o=Array.isArray(e.detail)?e.detail.map(o=>{var a;return`${null===(a=o.loc)||void 0===a?void 0:a.join(".")}: ${o.msg}`}).join(", "):e.detail;throw new Error(`Validation error: ${o}`)}const a=(null===(n=e)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===(s=e)||void 0===s?void 0:s.message)||`HTTP ${o.status}`;throw new Error(a)}return e},d={board:{getOrCreateForProject:async o=>{console.log(`\ud83d\udd27 Getting/creating board for project: ${o}`);const a=await s(`${n}/api/v1/kanban/projects/${o}/board`),e=await i(a);return console.log("\ud83d\udd27 Board response:",e),console.log("\ud83d\udd27 Board response structure - has data property:",!(null===e||void 0===e||!e.data)),console.log("\ud83d\udd27 Board response structure - has id:",!(null===e||void 0===e||!e.id)),console.log("\ud83d\udd27 Board response structure - has columns:",!(null===e||void 0===e||!e.columns)),e}},columns:{create:async(o,a)=>{console.log(`\ud83d\udd27 Creating column in board: ${o}`,a);const e=await s(`${n}/api/v1/kanban/boards/${o}/columns`,{method:"POST",body:JSON.stringify(a)}),t=await i(e);return console.log("\ud83d\udd27 Column creation response:",t),t},getCards:async o=>{console.log(`\ud83d\udd27 Getting cards for column: ${o}`);const a=await s(`${n}/api/v1/kanban/columns/${o}/cards`),e=await i(a);return console.log("\ud83d\udd27 Cards response:",e),e}},cards:{create:async(o,a)=>{console.log(`\ud83d\udd27 Creating card in column: ${o}`,a);const e=await s(`${n}/api/v1/kanban/columns/${o}/cards`,{method:"POST",body:JSON.stringify(a)}),t=await i(e);return console.log("\ud83d\udd27 Card creation response:",t),t},update:async(o,a)=>{console.log(`\ud83d\udd27 Updating card: ${o}`,a);const e=await s(`${n}/api/v1/kanban/cards/${o}`,{method:"PUT",body:JSON.stringify(a)}),t=await i(e);return console.log("\ud83d\udd27 Card update response:",t),t},move:async function(o,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`\ud83d\udd27 Moving card ${o} to column ${a} at position ${e}`);const t=await s(`${n}/api/v1/kanban/cards/${o}/move`,{method:"PUT",body:JSON.stringify({target_column_id:a,position:e})}),r=await i(t);return console.log("\ud83d\udd27 Card move response:",r),r},delete:async o=>{console.log(`\ud83d\udd27 Deleting card: ${o}`);const a=await s(`${n}/api/v1/kanban/cards/${o}`,{method:"DELETE"}),e=await i(a);return console.log("\ud83d\udd27 Card deletion response:",e),e}},utils:{transformBoardData:o=>{if(!o)return null;const a=o.data||o;return a&&a.id&&a.columns?{id:a.id,name:a.name,description:a.description,project_id:a.project_id,columns:a.columns.map(o=>({id:o.id,title:o.name,name:o.name,position:o.position,order:o.position,color:o.color,board_id:o.board_id})),created_at:a.created_at,updated_at:a.updated_at}:(console.log("\u274c Invalid board data structure:",a),null)},transformCardData:o=>{var a;if(!o)return null;const e=o.data||o;return{id:e.id,columnId:e.column_id,title:e.title,description:e.description,position:e.position,priority:e.priority,status:e.status,dueDate:e.due_date,labels:e.labels||[],assignedTo:(null===(a=e.assignments)||void 0===a?void 0:a.map(o=>o.user_id))||[],assignments:e.assignments||[],createdBy:e.created_by,createdAt:e.created_at,updatedAt:e.updated_at,checklist:e.checklist_items||[]}},transformCardToBackend:o=>({title:o.title,description:o.description||"",priority:o.priority||"medium",assigned_to:o.assignedTo||[],due_date:o.dueDate||null,labels:o.labels||[]})}}}}]);
//# sourceMappingURL=203.fe0885bf.chunk.js.map