"use strict";(self.webpackChunkagnoworksphere=self.webpackChunkagnoworksphere||[]).push([[203],{203:(o,e,a)=>{a.r(e),a.d(e,{default:()=>d});var t=a(84);const n="http://192.168.9.119:8000",r=function(){var o;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=null===(o=t.default.getSessionToken)||void 0===o?void 0:o.call(t.default);return{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{},...e}},s=async function(o){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(o,{...e,credentials:"include",headers:{...r(),...e.headers}})},i=async o=>{const e=await o.text();let a;try{a=e?JSON.parse(e):{}}catch{a={message:e}}if(!o.ok){var t,n,r,s;if(422===o.status&&null!==(t=a)&&void 0!==t&&t.detail){const o=Array.isArray(a.detail)?a.detail.map(o=>{var e;return`${null===(e=o.loc)||void 0===e?void 0:e.join(".")}: ${o.msg}`}).join(", "):a.detail;throw new Error(`Validation error: ${o}`)}const e=(null===(n=a)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===(s=a)||void 0===s?void 0:s.message)||`HTTP ${o.status}`;throw new Error(e)}return a},d={board:{getOrCreateForProject:async o=>{console.log(`\ud83d\udd27 Getting/creating board for project: ${o}`);const e=await s(`${n}/api/v1/kanban/projects/${o}/board`),a=await i(e);return console.log("\ud83d\udd27 Board response:",a),console.log("\ud83d\udd27 Board response structure - has data property:",!(null===a||void 0===a||!a.data)),console.log("\ud83d\udd27 Board response structure - has id:",!(null===a||void 0===a||!a.id)),console.log("\ud83d\udd27 Board response structure - has columns:",!(null===a||void 0===a||!a.columns)),a}},columns:{create:async(o,e)=>{console.log(`\ud83d\udd27 Creating column in board: ${o}`,e);const a=await s(`${n}/api/v1/kanban/boards/${o}/columns`,{method:"POST",body:JSON.stringify(e)}),t=await i(a);return console.log("\ud83d\udd27 Column creation response:",t),t},getCards:async o=>{console.log(`\ud83d\udd27 Getting cards for column: ${o}`);const e=await s(`${n}/api/v1/kanban/columns/${o}/cards`),a=await i(e);return console.log("\ud83d\udd27 Cards response:",a),a}},cards:{create:async(o,e)=>{console.log(`\ud83d\udd27 Creating card in column: ${o}`,e);const a=await s(`${n}/api/v1/kanban/columns/${o}/cards`,{method:"POST",body:JSON.stringify(e)}),t=await i(a);return console.log("\ud83d\udd27 Card creation response:",t),t},update:async(o,e)=>{console.log(`\ud83d\udd27 Updating card: ${o}`,e);const a=await s(`${n}/api/v1/kanban/cards/${o}`,{method:"PUT",body:JSON.stringify(e)}),t=await i(a);return console.log("\ud83d\udd27 Card update response:",t),t},move:async function(o,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`\ud83d\udd27 Moving card ${o} to column ${e} at position ${a}`);const t=await s(`${n}/api/v1/kanban/cards/${o}/move`,{method:"PUT",body:JSON.stringify({target_column_id:e,position:a})}),r=await i(t);return console.log("\ud83d\udd27 Card move response:",r),r},delete:async o=>{console.log(`\ud83d\udd27 Deleting card: ${o}`);const e=await s(`${n}/api/v1/kanban/cards/${o}`,{method:"DELETE"}),a=await i(e);return console.log("\ud83d\udd27 Card deletion response:",a),a}},utils:{transformBoardData:o=>{if(!o)return null;const e=o.data||o;return e&&e.id&&e.columns?{id:e.id,name:e.name,description:e.description,project_id:e.project_id,columns:e.columns.map(o=>({id:o.id,title:o.name,name:o.name,position:o.position,order:o.position,color:o.color,board_id:o.board_id})),created_at:e.created_at,updated_at:e.updated_at}:(console.log("\u274c Invalid board data structure:",e),null)},transformCardData:o=>{var e;if(!o)return null;const a=o.data||o;return{id:a.id,columnId:a.column_id,title:a.title,description:a.description,position:a.position,priority:a.priority,status:a.status,dueDate:a.due_date,labels:a.labels||[],assignedTo:(null===(e=a.assignments)||void 0===e?void 0:e.map(o=>o.user_id))||[],assignments:a.assignments||[],createdBy:a.created_by,createdAt:a.created_at,updatedAt:a.updated_at,checklist:a.checklist_items||[]}},transformCardToBackend:o=>({title:o.title,description:o.description||"",priority:o.priority||"medium",assigned_to:o.assignedTo||[],due_date:o.dueDate||null,labels:o.labels||[]})}}}}]);
//# sourceMappingURL=203.5501a0da.chunk.js.map